/**
 * Triskele Labs Branding Override
 * Version: 2.0 (Modern 2026 UI/UX Refresh)
 * Date: January 2026
 * 
 * Modern Color Palette:
 * - Primary Indigo: #6366F1 (Modern SaaS blue)
 * - Accent Cyan: #06B6D4 (Fresh, tech-forward)
 * - Dark Slate: #0F172A (Softer dark mode)
 */

/* ============================================
   1. CSS VARIABLES
   ============================================ */
:root {
    /* Modern 2026 Palette */
    --triskele-blue: #6366F1;      /* Indigo - Primary */
    --triskele-teal: #06B6D4;      /* Cyan - Accent */
    --triskele-dark: #000000;      /* Pure Black - Dark bg */
    --triskele-light: #F8FAFC;     /* Soft white */
    
    --primary-color: var(--triskele-blue);
    --accent-color: var(--triskele-teal);
    --bg-color: #F1F5F9;           /* Light mode bg */
    --text-color: #1E293B;         /* Dark slate text */
    
    --success-color: #10B981;      /* Emerald */
    --warning-color: #F59E0B;      /* Amber */
    --danger-color: #EF4444;       /* Red */
}

/* ============================================
   2. NAVIGATION BAR
   ============================================ */
.navbar,
.navbar-default {
    background-color: #000000 !important;
    border-color: #000000 !important;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.navbar .nav-link,
.navbar-nav .nav-link,
.navbar-default .navbar-nav > li > a {
    color: white !important;
}

.navbar .nav-link:hover,
.navbar-nav .nav-link:hover,
.navbar-default .navbar-nav > li > a:hover {
    background-color: var(--triskele-teal) !important;
    color: white !important;
    border-radius: 4px;
}

.navbar .nav-link.active,
.navbar-nav .nav-link.active {
    background-color: var(--triskele-teal) !important;
    font-weight: bold;
}

/* ============================================
   3. LOGO REPLACEMENT (UPDATED PATHS)
   ============================================ */

/* Option 1: Use SVG for navbar (best quality, scalable) */
.navbar-brand img,
.logo img,
img[src*="caldera.png"],
img[src*="mitre"],
img[alt*="Caldera"] {
    content: url('/branding/static/img/triskele_logo.svg') !important;
    max-height: 40px !important;
    width: auto !important;
    padding: 5px 0;
    background-color: white !important;
    padding: 8px !important;
    border-radius: 4px;
}

/* Option 2: Use PNG as fallback for older browsers */
@supports not (content: url('/branding/static/img/triskele_logo.svg')) {
    .navbar-brand img,
    .logo img {
        content: url('/branding/static/img/triskele_logo.png') !important;
    }
}

/* Large logo for splash screens / login pages */
.splash-logo,
.login-logo,
.hero-logo {
    content: url('/branding/static/img/triskele_logo_large.svg') !important;
    max-width: 400px !important;
    height: auto !important;
    background-color: white !important;
    padding: 16px !important;
    border-radius: 8px;
}

/* Logo container */
.navbar-brand {
    padding: 5px 15px;
}

/* ============================================
   4. BUTTONS
   ============================================ */
.btn-primary,
button.btn-primary,
.button-primary {
    background-color: var(--triskele-blue) !important;
    border-color: var(--triskele-blue) !important;
    color: white !important;
}

.btn-primary:hover,
button.btn-primary:hover {
    background-color: #1a4d7a !important;
    border-color: #1a4d7a !important;
}

.btn-secondary,
.btn-info {
    background-color: var(--triskele-teal) !important;
    border-color: var(--triskele-teal) !important;
    color: white !important;
}

.btn-secondary:hover,
.btn-info:hover {
    background-color: #138d75 !important;
}

.btn-success {
    background-color: var(--success-color) !important;
    border-color: var(--success-color) !important;
}

.btn-danger {
    background-color: var(--danger-color) !important;
    border-color: var(--danger-color) !important;
}

/* ============================================
   5. CARDS & PANELS
   ============================================ */
.card-header,
.panel-heading {
    background-color: #000000 !important;
    color: white !important;
    border-bottom: 2px solid var(--triskele-teal);
}

.card-body,
.panel-body {
    background-color: #0a0a0a;
    color: var(--triskele-light);
    border: 1px solid #1a1a1a;
}

.card:hover {
    box-shadow: 0 4px 8px rgba(15, 52, 96, 0.2);
    transition: box-shadow 0.3s ease;
}

/* ============================================
   6. BADGES & LABELS
   ============================================ */
.badge-primary,
.label-primary {
    background-color: var(--triskele-blue) !important;
}

.badge-info,
.label-info {
    background-color: var(--triskele-teal) !important;
}

.badge-success,
.label-success {
    background-color: var(--triskele-teal) !important;
}

/* ============================================
   7. ALERTS & NOTIFICATIONS
   ============================================ */
.alert-primary {
    background-color: rgba(15, 52, 96, 0.1) !important;
    border-color: var(--triskele-blue) !important;
    color: var(--triskele-blue) !important;
}

.alert-info {
    background-color: rgba(22, 160, 133, 0.1) !important;
    border-color: var(--triskele-teal) !important;
    color: var(--triskele-teal) !important;
}

/* ============================================
   8. SIDEBAR
   ============================================ */
.sidebar,
.sidebar-dark {
    background-color: var(--triskele-dark) !important;
    color: var(--triskele-light);
    border-right: 1px solid #1a1a1a;
}

.sidebar .nav-link,
.sidebar-dark .nav-link {
    color: var(--triskele-light) !important;
}

.sidebar .nav-link:hover,
.sidebar-dark .nav-link:hover {
    background-color: var(--triskele-blue) !important;
    border-left: 3px solid var(--triskele-teal);
}

/* ============================================
   9. TABLES
   ============================================ */
.table thead th,
.table-header {
    background-color: #000000 !important;
    color: white !important;
    border-color: #000000 !important;
}

.table tbody tr:hover {
    background-color: rgba(6, 182, 212, 0.1) !important;
}

.table-striped tbody tr:nth-of-type(odd) {
    background-color: rgba(6, 182, 212, 0.05);
}

/* ============================================
   10. FOOTER
   ============================================ */
.footer,
footer {
    background-color: var(--triskele-dark) !important;
    color: white !important;
    padding: 15px 0;
    text-align: center;
    margin-top: 40px;
    border-top: none;
}

.footer a,
footer a {
    color: var(--triskele-teal) !important;
    text-decoration: none;
}

.footer a:hover,
footer a:hover {
    color: white !important;
    text-decoration: underline;
}

/* ============================================
   11. PROGRESS BARS
   ============================================ */
.progress-bar {
    background: linear-gradient(90deg, var(--triskele-blue), var(--triskele-teal)) !important;
}

/* ============================================
   12. FORMS
   ============================================ */
.form-label,
label {
    color: var(--triskele-blue);
    font-weight: 600;
}

.form-control:focus,
input:focus,
textarea:focus,
select:focus {
    border-color: var(--triskele-teal) !important;
    box-shadow: 0 0 0 0.2rem rgba(22, 160, 133, 0.25) !important;
}

/* ============================================
   13. MODALS
   ============================================ */
.modal-header {
    background-color: #000000 !important;
    color: white !important;
}

.modal-footer {
    border-top: 2px solid var(--triskele-teal);
}

/* ============================================
   14. LOADING SPINNERS
   ============================================ */
.spinner-border,
.spinner-grow {
    color: var(--triskele-teal) !important;
}

/* ============================================
   15. PAGE TITLE / BREADCRUMBS
   ============================================ */
h1, h2, h3, h4, h5, h6 {
    color: var(--triskele-blue);
}

.breadcrumb {
    background-color: rgba(15, 52, 96, 0.05);
}

.breadcrumb-item.active {
    color: var(--triskele-teal);
}

/* ============================================
   16. OPERATION STATUS INDICATORS
   ============================================ */
.operation-running,
.status-running {
    background-color: var(--triskele-teal) !important;
    color: white !important;
}

.operation-finished,
.status-finished {
    background-color: var(--success-color) !important;
    color: white !important;
}

.operation-failed,
.status-failed {
    background-color: var(--danger-color) !important;
    color: white !important;
}

/* ============================================
   17. SCROLLBARS
   ============================================ */
::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: #0a0a0a;
}

::-webkit-scrollbar-thumb {
    background: var(--triskele-blue);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--triskele-teal);
}

/* ============================================
   18. TOOLTIPS
   ============================================ */
.tooltip-inner {
    background-color: var(--triskele-blue) !important;
}

.tooltip.bs-tooltip-top .arrow::before {
    border-top-color: var(--triskele-blue) !important;
}

/* ============================================
   19. DROPDOWN MENUS
   ============================================ */
.dropdown-item:hover,
.dropdown-item:focus {
    background-color: rgba(15, 52, 96, 0.1) !important;
    color: var(--triskele-blue) !important;
}

/* ============================================
   20. RESPONSIVE / MOBILE
   ============================================ */
@media (max-width: 768px) {
    .navbar-brand img {
        max-height: 30px !important;
    }
    
    .navbar-nav {
        flex-direction: column;
    }
}

/* ============================================
   21. VUE SPA COMPATIBILITY (MAGMA PLUGIN)
   ============================================ */

/* Ensure proper background for Vue app container */
html, body {
    background-color: var(--triskele-dark, #000000) !important;
    color: var(--triskele-light, #ecf0f1) !important;
    min-height: 100vh;
    margin: 0;
    padding: 0;
}

#app {
    min-height: 100vh;
    background-color: var(--triskele-dark, #000000);
    color: var(--triskele-light, #ecf0f1);
}

/* Loading state placeholder - shows when Vue hasn't mounted yet */
#app:empty {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: #000000;
}

#app:empty::before {
    content: "Loading Triskele Labs Platform...";
    color: var(--triskele-teal, #16a085);
    font-size: 1.5rem;
    font-weight: 600;
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 1; }
}

/* ============================================
   22. BULMA FRAMEWORK OVERRIDES (TRISKELE COLORS)
   ============================================ */

/* Override Bulma's default purple with Triskele Blue */
.tab.is-active {
    background-color: var(--triskele-blue, #0f3460) !important;
}

.tab:hover {
    background-color: var(--triskele-teal, #16a085) !important;
}

.menu-label {
    border-bottom: 2px solid var(--success-color, #10B981) !important;
    color: var(--success-color, #10B981) !important;
}

hr {
    background-color: var(--triskele-teal, #16a085) !important;
}

/* Bulma button overrides */
.button.is-primary {
    background-color: var(--triskele-blue, #0f3460) !important;
    border-color: var(--triskele-blue, #0f3460) !important;
    color: white !important;
}

.button.is-primary:hover {
    background-color: #1a4d7a !important;
    border-color: #1a4d7a !important;
}

.button.is-link {
    background-color: var(--triskele-teal, #16a085) !important;
    border-color: var(--triskele-teal, #16a085) !important;
}

.button.is-link:hover {
    background-color: #138d75 !important;
}

.button.is-info {
    background-color: var(--triskele-teal, #16a085) !important;
    border-color: var(--triskele-teal, #16a085) !important;
}

/* Bulma has-background overrides */
.has-background-primary,
.has-background-primary-dark {
    background-color: var(--triskele-blue, #0f3460) !important;
}

.has-background-link {
    background-color: var(--triskele-teal, #16a085) !important;
}

/* Text color classes */
.has-text-primary {
    color: var(--triskele-blue, #0f3460) !important;
}

.has-text-link {
    color: var(--triskele-teal, #16a085) !important;
}

/* Navigation sidebar overrides for Magma */
.menu-list a.is-active {
    background-color: var(--triskele-blue, #0f3460) !important;
    color: white !important;
}

.menu-list a:hover {
    background-color: rgba(22, 160, 133, 0.2) !important;
    color: var(--triskele-teal, #16a085) !important;
}

/* Modal and card headers */
.modal-card-head {
    background-color: #000000 !important;
    border-bottom: 2px solid var(--triskele-teal, #16a085);
}

.modal-card-title {
    color: white !important;
}

/* Progress bars */
.progress.is-primary::-webkit-progress-value {
    background-color: var(--triskele-blue, #0f3460) !important;
}

.progress.is-link::-webkit-progress-value {
    background-color: var(--triskele-teal, #16a085) !important;
}

/* Tags */
.tag.is-primary {
    background-color: var(--triskele-blue, #0f3460) !important;
    color: white !important;
}

.tag.is-link,
.tag.is-info {
    background-color: var(--triskele-teal, #16a085) !important;
    color: white !important;
}

/* Notification boxes */
.notification.is-primary {
    background-color: rgba(15, 52, 96, 0.9) !important;
    color: white !important;
}

.notification.is-link,
.notification.is-info {
    background-color: rgba(22, 160, 133, 0.9) !important;
    color: white !important;
}
